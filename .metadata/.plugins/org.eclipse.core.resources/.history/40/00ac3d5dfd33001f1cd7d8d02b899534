package com.example.demo.controller;

import java.util.regex.Matcher;
import java.util.regex.Pattern;

import com.example.demo.exception.InvalidException;

public class CommonException {
	
	public void checkName(String name) {
		if(name.length() < 3)
			throw new InvalidException("name should be of 3 characters");
	}
	public void checkCity(String city) {
		if(city.length() > 20)
			throw new InvalidException("city should have max  20 characters");
	}
	
	public void checkEmail(String email) {
	    String emailRegex = "^[a-zA-Z0-9_+&*-]+(?:\\.[a-zA-Z0-9_+&*-]+)*@(?:[a-zA-Z0-9-]+\\.)+[a-zA-Z]{2,7}$";
	    Pattern pattern = Pattern.compile(emailRegex);
	    Matcher matcher = pattern.matcher(email);

	    if (!matcher.matches()) {
	        throw new InvalidException("Invalid email format");
	    }
	}
	
	public void checkPhoneNumber(String phoneNumber) {
	    // Remove any non-numeric characters from the phone number
	    String cleanedPhoneNumber = phoneNumber.replaceAll("[^0-9]", "");

	    // Check if the cleaned phone number has at least 10 digits
	    if (cleanedPhoneNumber.length() < 10) {
	        throw new InvalidException("Phone number should have at least 10 digits");
	    }
	}


	

}
